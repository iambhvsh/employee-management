{% extends '_base.html' %} {% block content %}
<div class="app-layout">
  <!-- Main application layout with sidebar navigation -->
  <aside class="app-sidebar" id="appSidebar">
    <div class="sidebar-header">
      <div class="sidebar-brand">
        <div class="brand-icon">
          <span class="material-symbols-outlined">badge</span>
        </div>
        <span class="brand-text">Employee Portal</span>
      </div>
    </div>

    <nav class="sidebar-nav">
      {% if current_user.is_admin %}
      <div class="nav-section">
        <span class="nav-section-title">Admin</span>
        <a
          href="{{ url_for('admin_dashboard') }}"
          class="nav-link {% if request.endpoint == 'admin_dashboard' %}active{% endif %}"
          title="Dashboard"
        >
          <span class="material-symbols-outlined">dashboard</span>
          <span class="nav-text">Dashboard</span>
        </a>
        <a
          href="{{ url_for('admin_employee_details') }}"
          class="nav-link {% if request.endpoint == 'admin_employee_details' %}active{% endif %}"
          title="Employees"
        >
          <span class="material-symbols-outlined">group</span>
          <span class="nav-text">Employees</span>
        </a>
        <a
          href="{{ url_for('admin_employees') }}"
          class="nav-link {% if request.endpoint == 'admin_employees' %}active{% endif %}"
          title="Manage"
        >
          <span class="material-symbols-outlined">settings</span>
          <span class="nav-text">Manage</span>
        </a>
        <a
          href="{{ url_for('user_management') }}"
          class="nav-link {% if request.endpoint == 'user_management' %}active{% endif %}"
          title="User Management"
        >
          <span class="material-symbols-outlined">admin_panel_settings</span>
          <span class="nav-text">User Management</span>
        </a>
        <a
          href="{{ url_for('admin_tickets') }}"
          class="nav-link {% if request.endpoint == 'admin_tickets' or request.endpoint == 'admin_raise' %}active{% endif %}"
          title="Tickets"
        >
          <span class="material-symbols-outlined">confirmation_number</span>
          <span class="nav-text">Tickets</span>
        </a>
      </div>
      {% else %}
      <div class="nav-section">
        <span class="nav-section-title">Employee</span>
        <a
          href="{{ url_for('employee_details') }}"
          class="nav-link {% if request.endpoint == 'employee_details' %}active{% endif %}"
          title="My Details"
        >
          <span class="material-symbols-outlined">person</span>
          <span class="nav-text">My Details</span>
        </a>
        <a
          href="{{ url_for('employee_raise') }}"
          class="nav-link {% if request.endpoint == 'employee_raise' %}active{% endif %}"
          title="Raise Ticket"
        >
          <span class="material-symbols-outlined">add_circle</span>
          <span class="nav-text">Raise Ticket</span>
        </a>
      </div>
      {% endif %}
    </nav>

    <div class="sidebar-footer">
      {% if current_user.is_authenticated %}
      <div class="user-profile">
        <div class="user-avatar">
          <span class="material-symbols-outlined">account_circle</span>
        </div>
        <div class="user-info">
          <span class="user-name">{{ current_user.username }}</span>
          {% if current_user.is_admin %}
          <span class="user-role">Admin</span>
          {% else %}
          <span class="user-role">Employee</span>
          {% endif %}
        </div>
      </div>
      <a href="{{ url_for('logout') }}" class="logout-btn" title="Sign Out">
        <span class="material-symbols-outlined">logout</span>
      </a>
      {% endif %}
    </div>
  </aside>

  <!-- Mobile overlay for sidebar -->
  <div class="sidebar-overlay" id="sidebarOverlay"></div>

  <!-- Top navigation header -->
  <header class="app-header">
    <button class="menu-toggle" id="menuToggle" aria-label="Toggle menu">
      <span class="material-symbols-outlined">menu</span>
    </button>
    <div class="header-title">
      <div class="header-brand-icon">
        <span class="material-symbols-outlined">badge</span>
      </div>
      <span class="header-brand-text">Employee Portal</span>
    </div>
    <div class="header-spacer"></div>
    <div class="header-actions">
      {% if current_user.is_authenticated %}
      <a href="{{ url_for('logout') }}" class="header-logout">
        <span class="material-symbols-outlined">logout</span>
        <span>Sign Out</span>
      </a>
      {% endif %}
    </div>
  </header>

  <!-- Main content area -->
  <main class="app-main">{% block page_content %}{% endblock %}</main>
</div>
{% endblock %}
