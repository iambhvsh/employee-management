{% extends '_base.html' %} {% block content %}
<div class="app-layout">
  <!-- Main application layout with sidebar navigation -->
  <aside class="app-sidebar" id="appSidebar">
    <div class="sidebar-header">
      <div class="sidebar-brand">
        <div class="brand-icon">
          <span class="material-symbols-outlined">badge</span>
        </div>
        <span class="brand-text">{{ CONFIG["COMPANY_NAME"] }}</span>
      </div>
    </div>

    <nav class="sidebar-nav">
      {% if current_user.is_admin %}
      <div class="nav-section">
        <span class="nav-section-title">{{ CONFIG["LABELS"]["SIDEBAR_SECTION_ADMIN"] }}</span>
        <a
          href="{{ url_for('admin_dashboard') }}"
          class="nav-link {% if request.endpoint == 'admin_dashboard' %}active{% endif %}"
          title="Dashboard"
        >
          <span class="material-symbols-outlined">dashboard</span>
          <span class="nav-text">{{ CONFIG["LABELS"]["NAV_DASHBOARD"] }}</span>
        </a>
        <a
          href="{{ url_for('admin_employees') }}"
          class="nav-link {% if request.endpoint == 'admin_employees' %}active{% endif %}"
          title="Employees"
        >
          <span class="material-symbols-outlined">group</span>
          <span class="nav-text">{{ CONFIG["LABELS"]["NAV_EMPLOYEES"] }}</span>
        </a>
        <a
          href="{{ url_for('admin_employees') }}"
          class="nav-link {% if request.endpoint == 'admin_employees' %}active{% endif %}"
          title="Manage"
        >
          <span class="material-symbols-outlined">settings</span>
          <span class="nav-text">{{ CONFIG["LABELS"]["NAV_MANAGE"] }}</span>
        </a>
        <a
          href="{{ url_for('user_management') }}"
          class="nav-link {% if request.endpoint == 'user_management' %}active{% endif %}"
          title="User Management"
        >
          <span class="material-symbols-outlined">admin_panel_settings</span>
          <span class="nav-text">{{ CONFIG["LABELS"]["NAV_USER_MANAGEMENT"] }}</span>
        </a>
        <a
          href="{{ url_for('admin_tickets') }}"
          class="nav-link {% if request.endpoint == 'admin_tickets' or request.endpoint == 'admin_raise' %}active{% endif %}"
          title="Tickets"
        >
          <span class="material-symbols-outlined">confirmation_number</span>
          <span class="nav-text">{{ CONFIG["LABELS"]["NAV_TICKETS"] }}</span>
        </a>
        <a
          href="{{ url_for('admin_service_requests') }}"
          class="nav-link {% if request.endpoint == 'admin_service_requests' %}active{% endif %}"
          title="Service Requests"
        >
          <span class="material-symbols-outlined">support_agent</span>
          <span class="nav-text">{{ CONFIG["LABELS"]["NAV_SERVICE_REQUESTS"] }}</span>
        </a>
        <a
          href="{{ url_for('admin_github_access') }}"
          class="nav-link {% if request.endpoint == 'admin_github_access' %}active{% endif %}"
          title="GitHub Access"
        >
          <span class="material-symbols-outlined">code</span>
          <span class="nav-text">{{ CONFIG["LABELS"]["NAV_GITHUB_ACCESS"] }}</span>
        </a>
        <a
          href="{{ url_for('admin_assets') }}"
          class="nav-link {% if request.endpoint == 'admin_assets' %}active{% endif %}"
          title="Assets Inventory"
        >
          <span class="material-symbols-outlined">inventory_2</span>
          <span class="nav-text">{{ CONFIG["LABELS"]["NAV_ASSETS"] }}</span>
        </a>
        <a
          href="{{ url_for('admin_onboarding') }}"
          class="nav-link {% if request.endpoint == 'admin_onboarding' %}active{% endif %}"
          title="Onboarding"
        >
          <span class="material-symbols-outlined">person_add</span>
          <span class="nav-text">{{ CONFIG["LABELS"]["NAV_ONBOARDING"] }}</span>
        </a>
        <a
          href="{{ url_for('admin_exit') }}"
          class="nav-link {% if request.endpoint == 'admin_exit' %}active{% endif %}"
          title="Exit Process"
        >
          <span class="material-symbols-outlined">logout</span>
          <span class="nav-text">{{ CONFIG["LABELS"]["NAV_EXIT"] }}</span>
        </a>
      </div>
      {% else %}
      <div class="nav-section">
        <span class="nav-section-title">{{ CONFIG["LABELS"]["SIDEBAR_SECTION_EMPLOYEE"] }}</span>
        <a
          href="{{ url_for('employee_details') }}"
          class="nav-link {% if request.endpoint == 'employee_details' %}active{% endif %}"
          title="My Details"
        >
          <span class="material-symbols-outlined">person</span>
          <span class="nav-text">{{ CONFIG["LABELS"]["NAV_MY_DETAILS"] }}</span>
        </a>
        <a
          href="{{ url_for('employee_raise') }}"
          class="nav-link {% if request.endpoint == 'employee_raise' %}active{% endif %}"
          title="Raise Ticket"
        >
          <span class="material-symbols-outlined">add_circle</span>
          <span class="nav-text">{{ CONFIG["LABELS"]["NAV_RAISE_TICKET"] }}</span>
        </a>
        <a
          href="{{ url_for('employee_service_requests') }}"
          class="nav-link {% if request.endpoint == 'employee_service_requests' %}active{% endif %}"
          title="Service Requests"
        >
          <span class="material-symbols-outlined">support</span>
          <span class="nav-text">{{ CONFIG["LABELS"]["NAV_SERVICE_REQUESTS"] }}</span>
        </a>
      </div>
      {% endif %}
    </nav>

    <div class="sidebar-footer">
      {% if current_user.is_authenticated %}
      <div class="user-profile">
        <div class="user-avatar">
          <span class="material-symbols-outlined">account_circle</span>
        </div>
        <div class="user-info">
          <span class="user-name">{{ current_user.username }}</span>
          {% if current_user.is_admin %}
          <span class="user-role">{{ CONFIG["LABELS"]["SIDEBAR_SECTION_ADMIN"] }}</span>
          {% else %}
          <span class="user-role">{{ CONFIG["LABELS"]["SIDEBAR_SECTION_EMPLOYEE"] }}</span>
          {% endif %}
        </div>
      </div>
      <a href="{{ url_for('logout') }}" class="logout-btn" title="{{ CONFIG["LABELS"]["NAV_SIGN_OUT"] }}">
        <span class="material-symbols-outlined">logout</span>
      </a>
      {% endif %}
    </div>
  </aside>

  <!-- Mobile overlay for sidebar -->
  <div class="sidebar-overlay" id="sidebarOverlay"></div>

  <!-- Top navigation header -->
  <header class="app-header">
    <button class="menu-toggle" id="menuToggle" aria-label="Toggle menu">
      <span class="material-symbols-outlined">menu</span>
    </button>
    <div class="header-title">
      <div class="header-brand-icon">
        <span class="material-symbols-outlined">badge</span>
      </div>
      <span class="header-brand-text">{{ CONFIG["COMPANY_NAME"] }}</span>
    </div>
    <div class="header-spacer"></div>
    <div class="header-actions theme-toggle-host">
      {% if current_user.is_authenticated %}
      <a href="{{ url_for('logout') }}" class="header-logout">
        <span class="material-symbols-outlined">logout</span>
        <span>{{ CONFIG["LABELS"]["NAV_SIGN_OUT"] }}</span>
      </a>
      {% endif %}
    </div>
  </header>

  <!-- Main content area -->
  <main class="app-main">{% block page_content %}{% endblock %}</main>
</div>
{% endblock %}
